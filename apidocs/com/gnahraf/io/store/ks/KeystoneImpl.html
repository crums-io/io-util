<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_04) on Sat Jan 25 01:26:55 PST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>KeystoneImpl (I/O Primitives 0.0.1 API)</title>
<meta name="date" content="2014-01-25">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KeystoneImpl (I/O Primitives 0.0.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeystoneImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/gnahraf/io/store/ks/RollingKeystone.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/gnahraf/io/store/ks/KeystoneImpl.html" target="_top">Frames</a></li>
<li><a href="KeystoneImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.gnahraf.io.store.ks</div>
<h2 title="Class KeystoneImpl" class="title">Class KeystoneImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">com.gnahraf.io.store.ks.Keystone</a></li>
<li>
<ul class="inheritance">
<li>com.gnahraf.io.store.ks.KeystoneImpl</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true" title="class or interface in java.nio.channels">Channel</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/gnahraf/io/store/ks/RollingKeystone.html" title="class in com.gnahraf.io.store.ks">RollingKeystone</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">KeystoneImpl</span>
extends <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></pre>
<div class="block">Manages reliable persistence of an 8 byte value to an I/O device. In
 particular, a keystone updates values in a way that is resilient to partial
 writes (say in the face of a power failure). Indeed, that's the whole point
 of this thing.
 <p/>
 
 <h3>File Format</h3>
 
 This is serialized as a 17 byte sequence: two 8 byte wide
 cells followed by a special, byte-wide index cell. On the read path, the
 entire block is loaded, the index cell is consulted, and the relevant value
 of the indexed cell is returned.
 <p/>
 On the write path, the new value is first written to the next cell
 (determined in a round robin scheme), then the file is flushed, and finally
 the index cell is updated to point to the cell with the newly written value.
 
 <pre>
 <tt>
  
 
     cell              cell index (byte-size keystone)
   _ _ _ _ _ _ _ _ _ _ _
  |    8    |         | |
  |  bytes  |         | |
   - - - - - - - - - - -
 
  ^                   ^
  |                   |
  |   O F F S E T S   |
  |                   |
  |                   |
   ` fileOffset        ` fileOffset + 16
 
 </tt>
 </pre>
 
 Subclasses can adjust the <a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#cellCount()">cell count</a> to a
 different value.
 
 <h3>A note on the cell size</h3>
 
 It's possible to generalize this design to return anything, not just longs.
 For now, this is good enough for me.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Babak</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#KeystoneImpl(java.nio.channels.FileChannel, long)">KeystoneImpl</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
            long&nbsp;fileOffset)</code>
<div class="block">Creates a new instance by loading a previously serialized instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#KeystoneImpl(java.nio.channels.FileChannel, long, long)">KeystoneImpl</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
            long&nbsp;fileOffset,
            long&nbsp;initValue)</code>
<div class="block">Creates a new instance with given initial value and writes its state to
 persistent storage.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#cellCount()">cellCount</a></strong>()</code>
<div class="block">Returns the number of cells (excluding the index cell) used by the implementation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#commit()">commit</a></strong>()</code>
<div class="block">Forces a write to the underlying file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#get()">get</a></strong>()</code>
<div class="block">Returns the current value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#increment(long, boolean)">increment</a></strong>(long&nbsp;delta,
         boolean&nbsp;rollingCommit)</code>
<div class="block">Increments the current value and returns the new incremented value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#isOpen()">isOpen</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#put(long, boolean)">put</a></strong>(long&nbsp;value,
   boolean&nbsp;rollingCommit)</code>
<div class="block">Puts (writes) the given value and returns the old value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html#size()">size</a></strong>()</code>
<div class="block">Returns the byte-width of this keystone structure.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.gnahraf.io.store.ks.Keystone">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.gnahraf.io.store.ks.<a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></h3>
<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#createInstance(java.nio.channels.FileChannel, long)">createInstance</a>, <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#createInstance(java.nio.channels.FileChannel, long, long)">createInstance</a>, <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long)">increment</a>, <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#loadInstance(java.nio.channels.FileChannel)">loadInstance</a>, <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#loadInstance(java.nio.channels.FileChannel, long)">loadInstance</a>, <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#set(long)">set</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="KeystoneImpl(java.nio.channels.FileChannel, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeystoneImpl</h4>
<pre>public&nbsp;KeystoneImpl(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
            long&nbsp;fileOffset)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new instance by loading a previously serialized instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - open channel to the underlying file</dd><dd><code>fileOffset</code> - the offset at which this keystone begins</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="KeystoneImpl(java.nio.channels.FileChannel, long, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KeystoneImpl</h4>
<pre>public&nbsp;KeystoneImpl(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
            long&nbsp;fileOffset,
            long&nbsp;initValue)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new instance with given initial value and writes its state to
 persistent storage. (There's no such thing as uninitialized keystone.)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - open channel to the underlying file</dd><dd><code>fileOffset</code> - the offset at which this keystone begins</dd><dd><code>initValue</code> - the initial value of the keystone</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="cellCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cellCount</h4>
<pre>protected&nbsp;int&nbsp;cellCount()</pre>
<div class="block">Returns the number of cells (excluding the index cell) used by the implementation.
 This method is accessed once by the base class constructor and is left as a subclass
 override hook. Valid return values are in the range [2, 256].</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the base implementation returns 2</dd></dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public final&nbsp;int&nbsp;size()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#size()">Keystone</a></code></strong></div>
<div class="block">Returns the byte-width of this keystone structure.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#size()">size</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></dd>
</dl>
</li>
</ul>
<a name="get()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;long&nbsp;get()
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#get()">Keystone</a></code></strong></div>
<div class="block">Returns the current value.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#get()">get</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="put(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;long&nbsp;put(long&nbsp;value,
       boolean&nbsp;rollingCommit)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#put(long, boolean)">Keystone</a></code></strong></div>
<div class="block">Puts (writes) the given value and returns the old value. This is the same
 as <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#set(long)">Keystone.set(long)</a> except it gives the user the option to half the
 number of forces to the backing storage device, if this method is to be
 invoked very many times in succession in a batch job.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#put(long, boolean)">put</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>value</code> - the new value</dd><dd><code>rollingCommit</code> - if <tt>true</tt>, then the final force to the keystone byte is
          omitted. This halves the number of forces to the file system,
          at the cost of the possible loss of the last put; in no event
          (er, never say that) will the keystone's value be corrupt with
          this parameter set to <tt>true</tt></dd>
<dt><span class="strong">Returns:</span></dt><dd>the old value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="increment(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increment</h4>
<pre>public&nbsp;long&nbsp;increment(long&nbsp;delta,
             boolean&nbsp;rollingCommit)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long, boolean)">Keystone</a></code></strong></div>
<div class="block">Increments the current value and returns the new incremented value. This is
 the same as <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long)">Keystone.increment(long)</a> except it gives the user the
 option to half the number of forces to the backing storage device, if this
 method is to be invoked very many times in succession in a batch job.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long, boolean)">increment</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>delta</code> - the amount to be incremented</dd><dd><code>rollingCommit</code> - if <tt>true</tt>, then the final force to the keystone byte is
          omitted.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the new, incremented value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit()
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#commit()">Keystone</a></code></strong></div>
<div class="block">Forces a write to the underlying file. This figures in only if the last
 write (i.e. the last invocation of either of the <tt>put()</tt> or
 <tt>increment()</tt> methods) had the <tt>rollingCommit</tt> flag on.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#commit()">commit</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#put(long, boolean)"><code>Keystone.put(long, boolean)</code></a>, 
<a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long, boolean)"><code>Keystone.increment(long, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true#isOpen()" title="class or interface in java.nio.channels">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true" title="class or interface in java.nio.channels">Channel</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#isOpen()">isOpen</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true#close()" title="class or interface in java.nio.channels">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true" title="class or interface in java.nio.channels">Channel</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeystoneImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/gnahraf/io/store/ks/RollingKeystone.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/gnahraf/io/store/ks/KeystoneImpl.html" target="_top">Frames</a></li>
<li><a href="KeystoneImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>
