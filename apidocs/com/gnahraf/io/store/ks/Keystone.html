<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_04) on Tue Jan 07 00:42:53 PST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Keystone (I/O Primitives 0.0.1 API)</title>
<meta name="date" content="2014-01-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Keystone (I/O Primitives 0.0.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Keystone.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/gnahraf/io/store/ks/FixedKeystone.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/gnahraf/io/store/ks/Keystone.html" target="_top">Frames</a></li>
<li><a href="Keystone.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.gnahraf.io.store.ks</div>
<h2 title="Class Keystone" class="title">Class Keystone</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.gnahraf.io.store.ks.Keystone</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true" title="class or interface in java.nio.channels">Channel</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/gnahraf/io/store/ks/CachingKeystone.html" title="class in com.gnahraf.io.store.ks">CachingKeystone</a>, <a href="../../../../../com/gnahraf/io/store/ks/FixedKeystone.html" title="class in com.gnahraf.io.store.ks">FixedKeystone</a>, <a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html" title="class in com.gnahraf.io.store.ks">KeystoneImpl</a>, <a href="../../../../../com/gnahraf/io/store/ks/VolatileKeystone.html" title="class in com.gnahraf.io.store.ks">VolatileKeystone</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Keystone</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true" title="class or interface in java.nio.channels">Channel</a></pre>
<div class="block">A keystone maintains a long value that is typically serialized to a file.
 Updates are atomic, all-or-nothing, and fail-safe in the face partial writes.
 The point of this structure is its application in other fail-safe structures
 that support higher order atomic operations.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Babak</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#Keystone()">Keystone</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#commit()">commit</a></strong>()</code>
<div class="block">Forces a write to the underlying file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#createInstance(java.nio.channels.FileChannel, long)">createInstance</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
              long&nbsp;initValue)</code>
<div class="block">Creates a new instance with given initial value and writes its state to
 persistent storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#createInstance(java.nio.channels.FileChannel, long, long)">createInstance</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
              long&nbsp;offset,
              long&nbsp;initValue)</code>
<div class="block">Creates a new instance with given initial value and writes its state to
 persistent storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#get()">get</a></strong>()</code>
<div class="block">Returns the current value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long)">increment</a></strong>(long&nbsp;delta)</code>
<div class="block">Increments the current value and returns the new incremented value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long, boolean)">increment</a></strong>(long&nbsp;delta,
         boolean&nbsp;rollingCommit)</code>
<div class="block">Increments the current value and returns the new incremented value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#isOpen()">isOpen</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#loadInstance(java.nio.channels.FileChannel)">loadInstance</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file)</code>
<div class="block">Creates a new instance by loading a previously serialized instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#loadInstance(java.nio.channels.FileChannel, long)">loadInstance</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
            long&nbsp;offset)</code>
<div class="block">Creates a new instance by loading a previously serialized instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#put(long, boolean)">put</a></strong>(long&nbsp;value,
   boolean&nbsp;rollingCommit)</code>
<div class="block">Puts (writes) the given value and returns the old value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#set(long)">set</a></strong>(long&nbsp;value)</code>
<div class="block">Puts (writes) the given value and returns the old value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#size()">size</a></strong>()</code>
<div class="block">Returns the byte-width of this keystone structure.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Keystone()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Keystone</h4>
<pre>public&nbsp;Keystone()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="loadInstance(java.nio.channels.FileChannel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadInstance</h4>
<pre>public static&nbsp;<a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a>&nbsp;loadInstance(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new instance by loading a previously serialized instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - open channel to the underlying file positioned at the start
          of the serialized keystone. On return the file's position is
          advanced to the byte just beyond the keystone.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a <a href="../../../../../com/gnahraf/io/store/ks/RollingKeystone.html" title="class in com.gnahraf.io.store.ks">RollingKeystone</a> instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="loadInstance(java.nio.channels.FileChannel, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadInstance</h4>
<pre>public static&nbsp;<a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a>&nbsp;loadInstance(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
                    long&nbsp;offset)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new instance by loading a previously serialized instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - open channel to the underlying file. The file's position is not modified.</dd><dd><code>fileOffset</code> - the offset at which this keystone begins</dd>
<dt><span class="strong">Returns:</span></dt><dd>a <a href="../../../../../com/gnahraf/io/store/ks/RollingKeystone.html" title="class in com.gnahraf.io.store.ks">RollingKeystone</a> instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createInstance(java.nio.channels.FileChannel, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInstance</h4>
<pre>public static&nbsp;<a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a>&nbsp;createInstance(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
                      long&nbsp;initValue)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new instance with given initial value and writes its state to
 persistent storage. (There's no such thing as uninitialized keystone.)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - open channel to the underlying file positioned at the start
          of the serialized keystone. On return the file's position is
          advanced to the byte just beyond the keystone.</dd><dd><code>initValue</code> - the initial value of the keystone</dd>
<dt><span class="strong">Returns:</span></dt><dd>a <a href="../../../../../com/gnahraf/io/store/ks/RollingKeystone.html" title="class in com.gnahraf.io.store.ks">RollingKeystone</a> instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createInstance(java.nio.channels.FileChannel, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInstance</h4>
<pre>public static&nbsp;<a href="../../../../../com/gnahraf/io/store/ks/Keystone.html" title="class in com.gnahraf.io.store.ks">Keystone</a>&nbsp;createInstance(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;file,
                      long&nbsp;offset,
                      long&nbsp;initValue)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new instance with given initial value and writes its state to
 persistent storage. (There's no such thing as uninitialized keystone.)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - open channel to the underlying file. The file's position is not modified.</dd><dd><code>fileOffset</code> - the offset at which this keystone begins</dd><dd><code>initValue</code> - the initial value of the keystone</dd>
<dt><span class="strong">Returns:</span></dt><dd>a <a href="../../../../../com/gnahraf/io/store/ks/RollingKeystone.html" title="class in com.gnahraf.io.store.ks">RollingKeystone</a> instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public abstract&nbsp;int&nbsp;size()</pre>
<div class="block">Returns the byte-width of this keystone structure.</div>
</li>
</ul>
<a name="get()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public abstract&nbsp;long&nbsp;get()
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the current value.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="set(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>set</h4>
<pre>public&nbsp;long&nbsp;set(long&nbsp;value)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Puts (writes) the given value and returns the old value. This is equivalent
 to <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#put(long, boolean)">put(value, false)</a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>value</code> - the new value</dd>
<dt><span class="strong">Returns:</span></dt><dd>the old value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="put(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public abstract&nbsp;long&nbsp;put(long&nbsp;value,
       boolean&nbsp;rollingCommit)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Puts (writes) the given value and returns the old value. This is the same
 as <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#set(long)">set(long)</a> except it gives the user the option to half the
 number of forces to the backing storage device, if this method is to be
 invoked very many times in succession in a batch job.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>value</code> - the new value</dd><dd><code>rollingCommit</code> - if <tt>true</tt>, then the final force to the keystone byte is
          omitted. This halves the number of forces to the file system,
          at the cost of the possible loss of the last put; in no event
          (er, never say that) will the keystone's value be corrupt with
          this parameter set to <tt>true</tt></dd>
<dt><span class="strong">Returns:</span></dt><dd>the old value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="increment(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increment</h4>
<pre>public&nbsp;long&nbsp;increment(long&nbsp;delta)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Increments the current value and returns the new incremented value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delta</code> - the amount to be incremented</dd>
<dt><span class="strong">Returns:</span></dt><dd>the new, incremented value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="increment(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increment</h4>
<pre>public abstract&nbsp;long&nbsp;increment(long&nbsp;delta,
             boolean&nbsp;rollingCommit)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Increments the current value and returns the new incremented value. This is
 the same as <a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long)">increment(long)</a> except it gives the user the
 option to half the number of forces to the backing storage device, if this
 method is to be invoked very many times in succession in a batch job.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delta</code> - the amount to be incremented</dd><dd><code>rollingCommit</code> - if <tt>true</tt>, then the final force to the keystone byte is
          omitted.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the new, incremented value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public abstract&nbsp;void&nbsp;commit()
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Forces a write to the underlying file. This figures in only if the last
 write (i.e. the last invocation of either of the <tt>put()</tt> or
 <tt>increment()</tt> methods) had the <tt>rollingCommit</tt> flag on.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#put(long, boolean)"><code>put(long, boolean)</code></a>, 
<a href="../../../../../com/gnahraf/io/store/ks/Keystone.html#increment(long, boolean)"><code>increment(long, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true#isOpen()" title="class or interface in java.nio.channels">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true" title="class or interface in java.nio.channels">Channel</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true#close()" title="class or interface in java.nio.channels">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channel.html?is-external=true" title="class or interface in java.nio.channels">Channel</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Keystone.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/gnahraf/io/store/ks/FixedKeystone.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/gnahraf/io/store/ks/KeystoneImpl.html" title="class in com.gnahraf.io.store.ks"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/gnahraf/io/store/ks/Keystone.html" target="_top">Frames</a></li>
<li><a href="Keystone.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>
